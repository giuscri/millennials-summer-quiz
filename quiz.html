<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Millennials Summer Quiz</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.16/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Permanent+Marker&display=swap" rel="stylesheet">
    <style>
        html, body {
            /* font-size: 24px; */
            /* font-family: 'Permanent Marker', cursive; */
        }
    </style>
</head>
<body class="flex items-center justify-center bg-gray-200 mx-16 py-4 md:text-4xl">
    <div id="main" class="p-8 bg-white rounded-lg shadow-md opacity-0 transition-opacity duration-300">
        <div class="flex justify-center mb-4 md:mb-8">
            <button id="fifty-fifty-button" class="px-4 py-2 text-gray-700 bg-gray-200 border-4 border-transparent rounded-md hover:bg-gray-300 transition-colors duration-500">50:50</button>
        </div>
        <h1 id="question-text" class="mb-4 md:mb-8 font-bold text-center text-gray-700">Question</h1>
        <div class="flex flex-col gap-4 md:gap-8 md:grid md:grid-cols-2">
            <button class="px-4 py-2 text-gray-700 bg-gray-200 border-4 border-transparent rounded-md hover:bg-gray-300 transition-colors duration-500 option">Option 1</button>
            <button class="px-4 py-2 text-gray-700 bg-gray-200 border-4 border-transparent rounded-md hover:bg-gray-300 transition-colors duration-500 option">Option 2</button>
            <button class="px-4 py-2 text-gray-700 bg-gray-200 border-4 border-transparent rounded-md hover:bg-gray-300 transition-colors duration-500 option">Option 3</button>
            <button class="px-4 py-2 text-gray-700 bg-gray-200 border-4 border-transparent rounded-md hover:bg-gray-300 transition-colors duration-500 option">Option 4</button>
        </div>
    </div>
    <script>
        // Regenerate the list using `./yaml-to-json.sh | pbcopy` and paste it here.
        const questions = [{"question": "Come si chiama la bambina di cui \u00e8 innamorato Nobita in Doraemon?", "choices": ["Kikuo", "Shizuka", "Minami", "Serika"], "answer": 1, "difficulty": "easy", "category": "cartoons"}, {"question": "Qual \u00e8 la lingua ufficiale dell'Andorra, un piccolo paese incastonato tra Spagna e Francia?", "choices": ["Francese", "Spagnolo", "Catalano", "Inglese"], "answer": 2, "difficulty": "hard", "category": "geography"}, {"question": "In quale film del 2000, diretto da Ridley Scott, Russel Crowe interpreta un generale diventato schiavo?", "choices": ["A Beautiful Mind", "Gladiator", "Master and Commander", "American Gangster"], "answer": 1, "difficulty": "easy", "category": "cinema"}, {"question": "Quale romanzo di Chuck Palahniuk, pubblicato nel 1996, \u00e8 stato adattato in un popolare film di David Fincher nel 1999?", "choices": ["Survivor", "Fight Club", "Choke", "Invisible Monsters"], "answer": 1, "difficulty": "hard", "category": "literature"}, {"question": "Chi \u00e8 l'autore della trilogia di romanzi iniziata con 'La Bussola d'Oro'?", "choices": ["J.K. Rowling", "Philip Pullman", "C.S. Lewis", "Roald Dahl"], "answer": 1, "difficulty": "hard", "category": "literature"}, {"question": "In quale citt\u00e0 si svolgono le avventure in 'Teenage Mutant Ninja Turtles'?", "choices": ["Los Angeles", "New York City", "Chicago", "San Francisco"], "answer": 1, "difficulty": "hard", "category": "cartoons"}, {"question": "Nel gioco di scacchi, quale mossa permette di scambiare la posizione del re e della torre?", "choices": ["Scacco", "Scacco matto", "Stallo", "Arrocco"], "answer": 3, "difficulty": "hard", "category": "games"}, {"question": "Quale attrice ha vinto l'Oscar come miglior attrice nel 2001 per il suo ruolo nel film 'Erin Brockovich'?", "choices": ["Julia Roberts", "Sandra Bullock", "Nicole Kidman", "Halle Berry"], "answer": 0, "difficulty": "hard", "category": "cinema"}, {"question": "Quale band britannica ha realizzato l'album 'OK Computer' nel 1997?", "choices": ["Oasis", "Blur", "Radiohead", "Coldplay"], "answer": 2, "difficulty": "hard", "category": "music"}, {"question": "Qual \u00e8 il nome della principessa che Link salva nei giochi di 'The Legend of Zelda'?", "choices": ["Peach", "Zelda", "Daisy", "Rosalina"], "answer": 1, "difficulty": "medium", "category": "videogames"}, {"question": "In quale anno \u00e8 stato rilasciato il gioco originale 'The Legend of Zelda' su NES?", "choices": [1985, 1986, 1987, 1988], "answer": 1, "difficulty": "hard", "category": "videogames"}, {"question": "Qual \u00e8 la formula chimica dell'ammoniaca?", "choices": ["NH3", "H2O", "CH4", "H2SO4"], "answer": 0, "difficulty": "hard", "category": "chemistry"}, {"question": "Quale leggendario gruppo rock ha rilasciato l'album 'Use Your Illusion I' e 'Use Your Illusion II' nel 1991?", "choices": ["Nirvana", "Guns N' Roses", "Metallica", "Red Hot Chili Peppers"], "answer": 1, "difficulty": "hard", "category": "music"}, {"question": "Quale console di videogiochi ha introdotto il controller DualShock?", "choices": ["Nintendo 64", "PlayStation", "Xbox", "Sega Saturn"], "answer": 1, "difficulty": "medium", "category": "videogames"}, {"question": "Qual \u00e8 la terza cifra decimale di \u03c0?", "choices": [2, 1, 3, 4], "answer": 1, "difficulty": "hard", "category": "maths and science"}, {"question": "Qual \u00e8 il nome della citt\u00e0 in cui vive SpongeBob SquarePants?", "choices": ["Bikini Bottom", "Coral City", "Undersea Town", "Seashell City"], "answer": 0, "difficulty": "hard", "category": "cartoons"}, {"question": "Qual \u00e8 il nome della principessa nel classico videogioco 'Donkey Kong'?", "choices": ["Daisy", "Pauline", "Peach", "Rosalina"], "answer": 1, "difficulty": "hard", "category": "videogames"}, {"question": "Quale stella \u00e8 la pi\u00f9 vicina al nostro sistema solare?", "choices": ["Betelgeuse", "Aldebaran", "Proxima Centauri", "Sirius"], "answer": 2, "difficulty": "hard", "category": "astronomy"}, {"question": "Quale stazione spaziale internazionale \u00e8 stata lanciata nel 1986 e ha cessato di funzionare nel 2001?", "choices": ["ISS (International Space Station)", "Skylab", "Mir", "Tiangong"], "answer": 2, "difficulty": "hard", "category": "space"}, {"question": "In quale anno \u00e8 stato rilasciato il primo iPod di Apple?", "choices": [1999, 2000, 2001, 2002], "answer": 2, "difficulty": "hard", "category": "technology"}, {"question": "Chi ha vinto il Premio Nobel per la Pace nel 1991?", "choices": ["Nelson Mandela", "Mikhail Gorbachev", "Mother Teresa", "Aung San Suu Kyi"], "answer": 3, "difficulty": "hard", "category": "history"}, {"question": "Chi \u00e8 il vincitore del Premio Nobel per la Fisica nel 1993 per la scoperta della superconduttivit\u00e0 ad alta temperatura?", "choices": ["Richard Feynman", "Stephen Hawking", "K. Alex Muller", "Carlo Rubbia"], "answer": 2, "difficulty": "hard", "category": "maths and science"}, {"question": "Chi ha scritto la Quinta Sinfonia?", "choices": ["Mozart", "Beethoven", "Bach", "Chopin"], "answer": 1, "difficulty": "hard", "category": "music"}, {"question": "Qual \u00e8 l'elemento chimico con il pi\u00f9 alto punto di ebollizione?", "choices": ["Osmio", "Tungsteno", "Rhenium", "Tantalio"], "answer": 1, "difficulty": "hard", "category": "chemistry"}, {"question": "A quanto ammonta l'IVA sulla prima casa?", "choices": ["3%", "1%", "0%", "4%"], "answer": 3, "difficulty": "medium", "category": "life"}, {"question": "Qual \u00e8 il nome completo di Bart nel cartone animato 'The Simpsons'?", "choices": ["Bartholomew JoJo Simpson", "Bartholomew James Simpson", "Bart John Simpson", "Bart Joseph Simpson"], "answer": 0, "difficulty": "hard", "category": "cartoons"}, {"question": "Qual \u00e8 il massimo di punti che si pu\u00f2 ottenere in una singola mano nel gioco di carte 'Poker'?", "choices": ["Royal Flush", "Full House", "Four of a Kind", "Straight Flush"], "answer": 0, "difficulty": "hard", "category": "games"}, {"question": "Chi \u00e8 l'insegnante di Bart nella Scuola Elementare di Springfield?", "choices": ["Edna Krabappel", "Elizabeth Hoover", "Seymour Skinner", "Gary Chalmers"], "answer": 0, "difficulty": "medium", "category": "cartoons"}, {"question": "In quale anno \u00e8 stata trasmessa la prima stagione de 'The Simpsons'?", "choices": [1987, 1989, 1990, 1992], "answer": 1, "difficulty": "hard", "category": "cartoons"}, {"question": "Qual \u00e8 il nome del personaggio di 'The Simpsons' che \u00e8 un attore di film d'azione e protagonista del film 'McBain'?", "choices": ["Rainier Wolfcastle", "Troy McClure", "Kent Brockman", "Sideshow Bob"], "answer": 0, "difficulty": "hard", "category": "cartoons"}, {"question": "Qual \u00e8 la capitale dell'Australia?", "choices": ["Sydney", "Melbourne", "Canberra", "Perth"], "answer": 2, "difficulty": "hard", "category": "geography"}, {"question": "In quale paese si trova la citt\u00e0 di Timbuct\u00f9, patrimonio dell'UNESCO?", "choices": ["Burkina Faso", "Mali", "Niger", "Senegal"], "answer": 1, "difficulty": "hard", "category": "geography"}];

        const options = document.querySelectorAll('.option');
        const questionText = document.getElementById('question-text');

        const questionIndex = Number(localStorage.getItem('questionIndex')) || 0;
        const question = questions[questionIndex % questions.length];

        questionText.textContent = question.question;
        options.forEach((option, index) => {
            option.textContent = question.choices[index];
        });

        options.forEach((option, index) => {
            option.addEventListener('click', function() {
                options.forEach((opt, optIndex) => {
                    opt.classList.remove('bg-gray-200', 'hover:bg-gray-300', 'border-gray-500');
                    opt.disabled = true;
                    if (optIndex === question.answer) {
                        opt.classList.add('text-white', 'bg-green-300');
                    } else {
                        opt.classList.add('text-white', 'bg-red-300');
                    }
                    if(opt === option){
                        opt.classList.add('border-gray-500');
                    }
                });
            });
        });

        window.onload = function() {
            document.querySelector('#main').classList.add('opacity-100');
        };

        window.addEventListener('keydown', function(event) {
            if (['ArrowRight', 'ArrowLeft'].includes(event.key)) {
                document.querySelector('#main').classList.remove('opacity-100');

                setTimeout(() => {
                    if (event.key === 'ArrowRight') {
                        localStorage.setItem('questionIndex', questionIndex + 1);
                    } else if (event.key === 'ArrowLeft') {
                        localStorage.setItem('questionIndex', questionIndex - 1);
                    }

                    location.reload();
                }, 300);
            }
        });

        const isMobile = window.matchMedia("only screen and (max-width: 760px)").matches;
        if (isMobile) {
            // On mobile enable to change questions tapping left/right
            document.documentElement.addEventListener('click', function(event) {
                const pageWidth = window.innerWidth;
                const clickX = event.clientX;

                if (clickX > 9 * pageWidth / 10) {
                    document.querySelector('#main').classList.remove('opacity-100');

                    setTimeout(() => {
                        localStorage.setItem('questionIndex', questionIndex + 1);
                        location.reload();
                    }, 300);
                } else if (clickX < pageWidth / 10) {
                    document.querySelector('#main').classList.remove('opacity-100');

                    setTimeout(() => {
                        localStorage.setItem('questionIndex', questionIndex - 1);
                        location.reload();
                    }, 300);
                }
            });
        }

        const fiftyFiftyButton = document.getElementById('fifty-fifty-button');
        fiftyFiftyButton.addEventListener('click', function() {
            let wrongOptions = [];
            options.forEach((option, index) => {
                if (index !== question.answer) {
                    wrongOptions.push(option);
                }
            });

            // Get the first two wrong options
            wrongOptions.slice(0, 2).forEach(option => {
                option.disabled = true;
                option.classList.add('bg-red-300');
            });

            // Disable the 50:50 button after it is used
            fiftyFiftyButton.disabled = true;
        });

        document.body.style.height = `${window.innerHeight}px`;
    </script>
</body>
</html>
